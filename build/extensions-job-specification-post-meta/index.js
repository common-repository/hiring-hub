(()=>{var e={694:(e,t,n)=>{"use strict";var i=n(925);function s(){}function a(){}a.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,a,r){if(r!==i){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:s};return n.PropTypes=n,n}},556:(e,t,n)=>{e.exports=n(694)()},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(556);const t=window.wp.components,i=window.wp.element,s=window.wp.i18n,a=window.ReactJSXRuntime,r=({allowEmpty:e,defaultValue:n,help:r,label:l,onChange:o,value:u})=>{const{baseControlProps:d,controlProps:c}=(0,t.useBaseControlProps)({});return(0,i.useEffect)((()=>{if(!e&&""===u)if(""!==n)o(n);else{let e=new Date;e=e.toISOString().split("T")[0],o(e)}}),[e,n,u,o]),(0,a.jsx)(t.BaseControl,{...d,label:l,help:r,className:"tsc-date-control",children:(0,a.jsx)(t.Dropdown,{...c,renderToggle:({isOpen:e,onToggle:n})=>(0,a.jsx)(t.Button,{onClick:n,variant:"secondary",size:"compact","aria-expanded":e,children:""===u?(0,s.__)("(empty)","hiring-hub"):u}),renderContent:({onClose:n})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"tsc-date-control__dropdown-header",children:[(0,a.jsx)("div",{className:"tsc-date-control__dropdown-header-actions",children:e&&(0,a.jsx)(t.Button,{onClick:()=>{o(""),n()},variant:"tertiary",size:"compact",children:(0,s.__)("Set as empty","hiring-hub")})}),(0,a.jsx)(t.Button,{onClick:()=>{n()},variant:"tertiary",size:"compact",children:(0,s.__)("Close","hiring-hub")})]}),(0,a.jsx)(t.DatePicker,{currentDate:u,onChange:e=>{o(e.split("T")[0])}})]})})})};r.propTypes={allowEmpty:e.bool.isRequired,defaultValue:e.string.isRequired,help:e.string.isRequired,label:e.string.isRequired,onChange:e.func.isRequired,value:e.string.isRequired};const l=(e,t,n)=>(e=""===e?t:Number.parseInt(e,10),(isNaN(e)||t>e)&&(e=t),null!==n&&n<e&&(e=n),e),o=(0,t.withFocusOutside)(class extends i.Component{handleFocusOutside(e){this.props.onFocusOutside(e)}render(){return this.props.children}});o.propTypes={children:e.element.isRequired,onFocusOutside:e.func.isRequired};const u=({message:e})=>(0,a.jsx)("div",{className:"tsc-field-notice",children:(0,a.jsx)("p",{children:e})});u.propTypes={message:e.string.isRequired};const d=({label:e,help:n,min:r,max:d,value:c,defaultValue:h,onChange:p})=>{const[g,m]=(0,i.useState)(""),[f,b]=(0,i.useState)(c.toString());return(void 0===d||r>d)&&(d=null),(0,i.useEffect)((()=>{b(c.toString())}),[c]),(0,i.useEffect)((()=>{f===l(f,r,d).toString()?m(""):
// Translators: %s - field value.
m(null!==d?(0,s.sprintf)((0,s.__)('"%1$s" is not within the accepted range (%2$d-%3$d).',"hiring-hub"),f,r,d):(0,s.sprintf)((0,s.__)('"%1$s" must be greater than or equal to %2$d.',"hiring-hub"),f,r))}),[f,r,d]),(0,a.jsxs)("div",{className:"tsc-integer-control",children:[(0,a.jsx)(o,{onFocusOutside:()=>{const e=f===l(f,r,d).toString()?Number.parseInt(f,10):h;p(e),b(e.toString())},children:(0,a.jsx)(t.TextControl,{__nextHasNoMarginBottom:!0,label:e,help:n,value:f,type:"number",onChange:e=>{b(""===e?"":Number.parseInt(e,10).toString())}})}),""!==g&&(0,a.jsx)(u,{message:g})]})};d.propTypes={label:e.string.isRequired,help:e.string,min:e.number.isRequired,max:e.number,value:e.number.isRequired,defaultValue:e.number.isRequired,onChange:e.func.isRequired};const c=({content:e})=>(0,a.jsx)("p",{className:"tsc-panel-field-help",children:e});c.propTypes={content:e.string.isRequired};const h=({children:e})=>(0,a.jsx)("div",{className:"tsc-panel-fields-container",children:e});h.propTypes={children:e.element.isRequired};const p=({currencies:e,defaultMax:n,defaultMin:r,help:l,label:o,onChange:u,units:h,value:p})=>{const g=(0,i.useMemo)((()=>{var t,i;return{isDefined:!1,currency:null!==(t=e[0])&&void 0!==t?t:null,min:r,max:n,unit:null!==(i=h[0])&&void 0!==i?i:null}}),[e,r,n,h]),m=(0,i.useCallback)((e=>(e=""===e?g:JSON.parse(e),{isDefined:void 0!==e?.isDefined?e.isDefined:g.isDefined,currency:void 0!==e?.currency?e.currency:g.currency,min:void 0!==e?.min?e.min:g.min,max:void 0!==e?.max?e.max:g.max,unit:void 0!==e?.unit?e.unit:g.unit})),[g]),[f,b]=(0,i.useState)(m(p)),{baseControlProps:_,controlProps:v}=(0,t.useBaseControlProps)({});return(0,i.useEffect)((()=>{b(m(p))}),[p,m]),(0,i.useEffect)((()=>{u(JSON.stringify(f))}),[f,u]),(0,a.jsxs)("div",{className:"tsc-salary-control",children:[(0,a.jsx)(t.BaseControl,{..._,label:o,className:"tsc-salary-control__toggle",children:(0,a.jsx)(t.ToggleControl,{...v,label:(0,s.__)("Define the value","hiring-hub"),checked:f.isDefined,help:f.isDefined?(0,s.__)("Define the salary information below.","hiring-hub"):(0,s.__)("If not defined, salary information will not be attached to this job.","hiring-hub"),onChange:()=>{b({...g,isDefined:!f.isDefined})}})}),f.isDefined&&(0,a.jsxs)(i.Fragment,{children:[(0,a.jsxs)("div",{className:"tsc-salary-control__group",children:[(0,a.jsxs)("div",{className:"tsc-salary-control__row",children:[(0,a.jsx)(d,{label:(0,s.sprintf)((0,s.__)("%s from…","hiring-hub"),o),help:"",min:0,max:f.max,value:f.min,defaultValue:0,onChange:e=>{b({...f,min:e})}}),(0,a.jsx)(d,{label:(0,s.sprintf)((0,s.__)("%s to…","hiring-hub"),o),help:"",min:f.min,value:f.max,defaultValue:f.min,onChange:e=>{b({...f,max:e})}})]}),(0,a.jsx)(c,{content:(0,s.__)('Optionally, keep the "from" and "to" field\'s values equal to use specific value instead of the range.',"hiring-hub")})]}),(0,a.jsx)(t.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,s.__)("Currency","hiring-hub"),value:f.currency,help:(0,s.sprintf)((0,s.__)("%s currency.","hiring-hub"),o),options:[{value:"",label:(0,s.__)("-- Choose --","hiring-hub"),disabled:!0},...e.map((e=>({label:e,value:e})))],onChange:e=>{b({...f,currency:e})}}),(0,a.jsx)(t.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,s.__)("Unit","hiring-hub"),value:f.unit,help:(0,s.sprintf)((0,s.__)('%s unit ("per" period).',"hiring-hub"),o),options:[{value:"",label:(0,s.__)("-- Choose --","hiring-hub"),disabled:!0},...h.map((e=>({label:e,value:e})))],onChange:e=>{b({...f,unit:e})}}),(0,a.jsx)(c,{content:l})]})]})};p.propTypes={currencies:e.array.isRequired,defaultMax:e.number.isRequired,defaultMin:e.number.isRequired,help:e.string,label:e.string.isRequired,onChange:e.func.isRequired,units:e.array.isRequired,value:e.string.isRequired};const g=window.wp.url,m=({label:e,help:n,value:r,onChange:l})=>{const[d,c]=(0,i.useState)("");return(0,a.jsxs)("div",{className:"tsc-url-control",children:[(0,a.jsx)(o,{onFocusOutside:()=>{""===r||(0,g.isEmail)(r)||(e=>{const t=(0,g.getProtocol)(e);if(!(0,g.isValidProtocol)(t))return!1;const n=(0,g.getAuthority)(e);return!(!(0,g.isValidAuthority)(n)||n.startsWith(".")||n.endsWith("."))&&!(!e.startsWith("http://")&&!e.startsWith("https://"))&&(0,g.isURL)(e)})(r)?c(""):(l(""),
// Translators: %s - field value.
c((0,s.sprintf)((0,s.__)('"%s" is not a valid URL; field value has been emptied. Please put the valid URL or leave the field empty.',"hiring-hub"),r)))},children:(0,a.jsx)(t.TextControl,{label:e,help:n,value:r,onChange:e=>{l(e)}})}),""!==d&&(0,a.jsx)(u,{message:d})]})};m.propTypes={label:e.string.isRequired,help:e.string,value:e.string.isRequired,onChange:e.func.isRequired};const f=(e,t,n)=>`${e}-${t}-${n}`,b=window.wp.data,_=window.wp.domReady;var v=n.n(_);const x=window.wp.editor,y=window.wp.plugins,w=window.wp.apiFetch,C=(e,t)=>(0,b.useSelect)((n=>{if("settings"===t){const s=`get${i=t,i.charAt(0).toUpperCase()+i.slice(1)}`;return{data:n(e)[s](),hasStartedResolution:n(e).hasStartedResolution(s),hasFinishedResolution:n(e).hasFinishedResolution(s),isResolving:n(e).isResolving(s)}}var i;return n(e).getData(t)})),j=(e=>{const t=e.replace("-"," ").replace(/\s(.)/g,(e=>e.toUpperCase())).replace(/\s/g,"").replace(/^(.)/,(e=>e.toLowerCase()));if(void 0===window?.teydeaStudio?.[t]?.dataStore){window.teydeaStudio=window.teydeaStudio||{},window.teydeaStudio[t]=window.teydeaStudio[t]||{};const n={data:{},settings:{}},i={setData:e=>({type:"SET_DATA",data:e}),setSettings:e=>({type:"SET_SETTINGS",data:e}),fetchFromAPI:e=>({type:"FETCH_FROM_API",path:e})};window.teydeaStudio[t].dataStore=(0,b.createReduxStore)(t,{reducer(e=n,t){switch(t.type){case"SET_DATA":return{...e,data:{...e.data,[t.data.key]:t.data.value}};case"SET_SETTINGS":return{...e,settings:t.data}}return e},actions:i,initialState:n,selectors:{getData:(e,t)=>e.data?.[t],getSettings:e=>e.settings},controls:{FETCH_FROM_API:e=>w({path:e.path})},resolvers:{*getSettings(){const t=`/${e}/v1/settings`,n=yield i.fetchFromAPI(t);return i.setSettings(n)}}}),(0,b.register)(window.teydeaStudio[t].dataStore)}return window.teydeaStudio[t].dataStore})("hiring-hub"),S=()=>{const e=e=>(0,b.dispatch)("core/editor").editPost({meta:e}),n=(()=>{const e="jobSpecification",[t,n]=(0,i.useState)(C(j,e)),s=(0,b.useSelect)((e=>e(x.store).getEditedPostAttribute("meta")),[]),a=C(j,"settings");return(0,i.useEffect)((()=>{a.hasFinishedResolution&&n(((e,t)=>{var n;return Object.values(null!==(n=e.data?.jobSpecification)&&void 0!==n?n:{}).map((e=>{var n;const i=`hiring_hub__job_specification__${e.key}`,s={field:e,metaKey:i,value:null!==(n=t?.[i])&&void 0!==n?n:e.defaultValue};return"array_of_strings"===e.type&&(s.allowedChoices="unlimited"===e.allowedChoices?"unlimited":Number.parseInt(e.allowedChoices,10)),s}))})(a,s))}),[s,a]),(0,i.useEffect)((()=>{(0,b.dispatch)(j).setData({key:e,value:t})}),[t]),t})(),l=[],{baseControlProps:o,controlProps:u}=(0,t.useBaseControlProps)({preferredId:f("hiring-hub","extensions-job-specification-post-meta","toggles")});return void 0===n?null:(0,a.jsx)(x.PluginDocumentSettingPanel,{title:(0,s.__)("Job specification","hiring-hub"),initialOpen:!1,children:(0,a.jsxs)(h,{children:[n.map((({field:n,metaKey:i,value:o,allowedChoices:u})=>{switch(n.type){case"array_of_strings":return"1"===n.allowedChoices?(0,a.jsx)(t.SelectControl,{label:n.name,help:n.help,value:o,options:[{value:"",label:(0,s.__)("-- Choose --","hiring-hub"),disabled:!0},...n.possibleValues.map((e=>({value:e,label:e})))],onChange:t=>{e({[i]:[t]})}}):(0,a.jsxs)("div",{children:[(0,a.jsx)(t.FormTokenField,{label:n.name,value:o,suggestions:n.possibleValues,onChange:t=>{t=t.filter((e=>-1!==n.possibleValues.indexOf(e))),"unlimited"!==n.allowedChoices&&(t=t.splice(0,u)),e({[i]:t})}}),(0,a.jsx)(c,{content:(0,s.sprintf)(
// Translators: %1$s - comma separated list of possible values; %2$s - summary of allowed choices number; %3$s - help content.
// Translators: %1$s - comma separated list of possible values; %2$s - summary of allowed choices number; %3$s - help content.
(0,s.__)("Choose %1$s. Possible values include: %2$s. %3$s","hiring-hub"),"unlimited"===u?(0,s.__)("as many values as you want","hiring-hub"):(0,s.sprintf)(
// Translators: %s - singular or plural text.
// Translators: %s - singular or plural text.
(0,s.__)("up to %s","hiring-hub"),(0,s.sprintf)(
// Translators: %d - number of allowed choices.
// Translators: %d - number of allowed choices.
(0,s._n)("%d value","%d values",u,"hiring-hub"),u)),n.possibleValues.join(", "),n.help)})]});case"boolean":return l.push((0,a.jsx)(t.ToggleControl,{label:n.name,help:n.help,checked:o,onChange:()=>{e({[i]:!o})}})),null;case"date":return(0,a.jsx)("div",{children:(0,a.jsx)(r,{label:n.name,help:n.help,allowEmpty:n.allowEmpty,defaultValue:n.defaultValue,value:o,onChange:t=>{e({[i]:t})}})});case"integer":return(0,a.jsx)("div",{children:(0,a.jsx)(d,{label:n.name,help:n.help,min:n.min,max:n.max,value:o,defaultValue:n.defaultValue,onChange:t=>{e({[i]:t})}})});case"salary":return(0,a.jsx)("div",{children:(0,a.jsx)(p,{currencies:n.currencies,defaultMax:n.defaultMax,defaultMin:n.defaultMin,help:n.help,label:n.name,units:n.units,value:o,onChange:t=>{e({[i]:t})}})});case"text":return(0,a.jsx)("div",{children:(0,a.jsx)(t.TextareaControl,{__nextHasNoMarginBottom:!0,label:n.name,help:n.help,value:o,onChange:t=>{e({[i]:t})}})});case"url":return(0,a.jsx)(m,{label:n.name,help:n.help,value:o,onChange:t=>{e({[i]:t})}})}return null})),0<l.length&&(0,a.jsx)(t.BaseControl,{...o,label:(0,s.__)("Toggles","hiring-hub"),children:(0,a.jsx)(i.Fragment,{...u,children:l.map((e=>e))})})]})})};v()((()=>{(0,y.registerPlugin)(f("hiring-hub","extensions-job-specification-post-meta","plugin"),{render:S})}))})()})();